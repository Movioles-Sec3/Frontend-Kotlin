<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/app/src/data/local/dao/OrderDao.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/app/src/data/local/dao/OrderDao.kt" />
              <option name="originalContent" value="package app.src.data.local.dao&#10;&#10;import androidx.room.*&#10;import app.src.data.local.entities.OrderEntity&#10;import app.src.data.local.entities.OrderItemEntity&#10;import kotlinx.coroutines.flow.Flow&#10;&#10;@Dao&#10;interface OrderDao {&#10;&#10;    // === INSERCIÓN ===&#10;    @Insert(onConflict = OnConflictStrategy.REPLACE)&#10;    suspend fun insertOrder(order: OrderEntity): Long&#10;&#10;    @Insert(onConflict = OnConflictStrategy.REPLACE)&#10;    suspend fun insertOrderItems(items: List&lt;OrderItemEntity&gt;)&#10;&#10;    @Transaction&#10;    suspend fun insertOrderWithItems(order: OrderEntity, items: List&lt;OrderItemEntity&gt;) {&#10;        insertOrder(order)&#10;        insertOrderItems(items)&#10;    }&#10;&#10;    // === CONSULTAS ===&#10;    @Query(&quot;SELECT * FROM orders WHERE userId = :userId ORDER BY createdAt DESC&quot;)&#10;    fun getOrdersByUser(userId: Int): Flow&lt;List&lt;OrderEntity&gt;&gt;&#10;&#10;    @Query(&quot;SELECT * FROM orders WHERE id = :orderId&quot;)&#10;    suspend fun getOrderById(orderId: Int): OrderEntity?&#10;&#10;    @Query(&quot;SELECT * FROM order_items WHERE orderId = :orderId&quot;)&#10;    suspend fun getOrderItems(orderId: Int): List&lt;OrderItemEntity&gt;&#10;&#10;    @Query(&quot;SELECT * FROM orders WHERE status = :status AND userId = :userId ORDER BY createdAt DESC LIMIT 1&quot;)&#10;    suspend fun getLastOrderByStatus(userId: Int, status: String): OrderEntity?&#10;&#10;    // === ACTUALIZACIÓN ===&#10;    @Query(&quot;UPDATE orders SET status = :status, readyAt = :readyAt WHERE id = :orderId&quot;)&#10;    suspend fun updateOrderStatus(orderId: Int, status: String, readyAt: Long? = null)&#10;&#10;    @Query(&quot;UPDATE orders SET status = 'DELIVERED', deliveredAt = :deliveredAt WHERE id = :orderId&quot;)&#10;    suspend fun markAsDelivered(orderId: Int, deliveredAt: Long)&#10;&#10;    // === ELIMINACIÓN ===&#10;    @Query(&quot;DELETE FROM orders WHERE createdAt &lt; :timestamp&quot;)&#10;    suspend fun deleteOldOrders(timestamp: Long)&#10;&#10;    @Query(&quot;DELETE FROM orders&quot;)&#10;    suspend fun clearAll()&#10;&#10;    // === ESTADÍSTICAS ===&#10;    @Query(&quot;SELECT COUNT(*) FROM orders WHERE userId = :userId&quot;)&#10;    suspend fun getOrderCount(userId: Int): Int&#10;&#10;    @Query(&quot;SELECT * FROM orders WHERE status = 'READY' AND userId = :userId LIMIT 1&quot;)&#10;    suspend fun getActiveReadyOrder(userId: Int): OrderEntity?&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package app.src.data.local.dao&#10;&#10;import androidx.room.*&#10;import app.src.data.local.entities.OrderEntity&#10;import app.src.data.local.entities.OrderItemEntity&#10;import kotlinx.coroutines.flow.Flow&#10;&#10;@Dao&#10;interface OrderDao {&#10;&#10;    // === INSERCIÓN ===&#10;    @Insert(onConflict = OnConflictStrategy.REPLACE)&#10;    suspend fun insertOrder(order: OrderEntity): Long&#10;&#10;    @Insert(onConflict = OnConflictStrategy.REPLACE)&#10;    suspend fun insertOrderItems(items: List&lt;OrderItemEntity&gt;)&#10;&#10;    @Transaction&#10;    suspend fun insertOrderWithItems(order: OrderEntity, items: List&lt;OrderItemEntity&gt;) {&#10;        insertOrder(order)&#10;        insertOrderItems(items)&#10;    }&#10;&#10;    // === CONSULTAS ===&#10;    @Query(&quot;SELECT * FROM orders WHERE userId = :userId ORDER BY createdAt DESC&quot;)&#10;    fun getOrdersByUser(userId: Int): Flow&lt;List&lt;OrderEntity&gt;&gt;&#10;&#10;    @Query(&quot;SELECT * FROM orders WHERE id = :orderId&quot;)&#10;    suspend fun getOrderById(orderId: Int): OrderEntity?&#10;&#10;    @Query(&quot;SELECT * FROM order_items WHERE orderId = :orderId&quot;)&#10;    suspend fun getOrderItems(orderId: Int): List&lt;OrderItemEntity&gt;&#10;&#10;    @Query(&quot;SELECT * FROM orders WHERE status = :status AND userId = :userId ORDER BY createdAt DESC LIMIT 1&quot;)&#10;    suspend fun getLastOrderByStatus(userId: Int, status: String): OrderEntity?&#10;&#10;    // === ACTUALIZACIÓN ===&#10;    @Query(&quot;UPDATE orders SET status = :status, readyAt = :readyAt WHERE id = :orderId&quot;)&#10;    suspend fun updateOrderStatus(orderId: Int, status: String, readyAt: Long? = null)&#10;&#10;    @Query(&quot;UPDATE orders SET status = 'DELIVERED', deliveredAt = :deliveredAt WHERE id = :orderId&quot;)&#10;    suspend fun markAsDelivered(orderId: Int, deliveredAt: Long)&#10;&#10;    // === ELIMINACIÓN ===&#10;    @Query(&quot;DELETE FROM orders WHERE createdAt &lt; :timestamp&quot;)&#10;    suspend fun deleteOldOrders(timestamp: Long)&#10;&#10;    @Query(&quot;DELETE FROM orders&quot;)&#10;    suspend fun clearAll()&#10;&#10;    // === ESTADÍSTICAS ===&#10;    @Query(&quot;SELECT COUNT(*) FROM orders WHERE userId = :userId&quot;)&#10;    suspend fun getOrderCount(userId: Int): Int&#10;&#10;    @Query(&quot;SELECT * FROM orders WHERE status = 'READY' AND userId = :userId LIMIT 1&quot;)&#10;    suspend fun getActiveReadyOrder(userId: Int): OrderEntity?&#10;&#10;    // === OBTENER ÚLTIMO ID PARA ÓRDENES OFFLINE ===&#10;    @Query(&quot;SELECT MAX(id) FROM orders WHERE id &gt; 0&quot;)&#10;    suspend fun getMaxOrderId(): Int?&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/compile_install.bat">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/compile_install.bat" />
              <option name="updatedContent" value="@echo off&#10;echo Compilando e instalando la aplicacion...&#10;call gradlew.bat installDebug&#10;echo.&#10;echo Compilacion completada!&#10;pause&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>